import{a2 as O,a8 as A,ab as H,h as V,g as B,aa as P,d as j,o as f,b as x,w as D,a6 as G,k as R,n as T,l as n,N as Z,c as C,H as $,e as z,ac as W,I as X,t as S,F as q,a as J,a9 as K,T as Q}from"./framework.060401c9.js";import{d as U,w as Y,b as F,e as _}from"./dom.288056a2.js";import{u as ee}from"./use-namespace.812d5fba.js";import{u as te}from"./use-z-index.26cbead2.js";import{F as E}from"./index.34852432.js";import{I as se}from"./index.ff71de59.js";import{a as ne}from"./index.b1089a6f.js";const oe={message:{type:[String,Object],default:()=>null},type:{type:String,default:"default"},closable:Boolean,duration:{type:Number,default:2500},round:Boolean,icon:{type:Object,default:()=>null},color:String,background:String,offset:{type:Number,default:20},placement:{type:String,default:"top"},zIndex:Number,closeBtn:{type:[String,Object],default:()=>null},onClose:{type:Function,default:()=>null}},ae=["primary","success","info","warning","error","default"],i=O({}),h=e=>e.props.placement,M=e=>{const a=h(e);return i[a].findIndex(o=>o.uid==e.uid)},w=e=>e.vnode.el.offsetHeight+16,re=e=>{const a=M(e),o=h(e);if(!(a<0))for(let r=a+1;r<i[o].length;r++){const u=i[o][r];u.exposed.offsetVal.value-=w(e)}},le=e=>{re(e);const a=h(e);i[a].splice(M(e),1)},ce=(e,a)=>{const o=s=>{const t=h(s);i[t]?i[t].push(s):i[t]=[s]},r=s=>{let t=s.offset||20;const l=i[s.placement?s.placement:a==="message"?"top":"top-right"];return l&&l.forEach(y=>{t+=w(y)}),t},u=s=>{const t=A(e,s),l=document.createElement("div");return H(t,l),document.body.appendChild(l.firstElementChild),t.component},m=s=>{const t=u(s);return o(t),t.proxy},g=s=>{const t={duration:2500,placement:a==="message"?"top":"top-right",offset:r(s),...s};return U(t.duration)||(t.duration=2500,Y(`Fz${a}`,"Parameters `duration` is not a number.The default value has been used 2500.")),t},v=s=>{const t=F(s)?{message:s}:s;return m(g(t))};return ae.forEach(s=>{v[s]=t=>m(g({message:t,type:s}))}),{Message:v}},ie=(e,a)=>{const o=ee(a),r=P(),{nextZIndex:u}=te(),m=V(!0),g=B(()=>[o.b(),o.m(e.type),o.m(e.placement),o.is("round",e.round)]),v=B(()=>({[o.cssVarBlockName("color")]:e.color,[o.cssVarBlockName("background")]:e.background,[o.cssVarBlockName("z-index")]:_(e.zIndex)?u():e.zIndex})),s=B(()=>e.placement.includes("top")),t=V(e.offset);let l;const y=I=>{var L;m.value=!1,(L=e==null?void 0:e.onClose)==null||L.call(e,I),clearTimeout(l)},N=()=>{le(r)},k=()=>{r.vnode.el&&r.vnode.el.parentElement.removeChild(r.vnode.el)},b=()=>{e.duration>0&&(l=setTimeout(()=>{y()},e.duration))};b();const c=B(()=>{const I={};return e.placement.includes("bottom")?I.bottom=t.value+"px":I.top=t.value+"px",I});return{classList:g,styleList:v,visible:m,isPosition:s,offsetStyle:c,offsetVal:t,ns:o,onBeforeLeave:N,onAfterLeave:k,clearTimer:()=>{l&&clearTimeout(l)},startTime:()=>{b()},handelClose:y}},ue=j({name:"FzMessage",__name:"message",props:oe,setup(e,{expose:a}){const o=e,{ns:r,classList:u,styleList:m,visible:g,isPosition:v,offsetStyle:s,offsetVal:t,onBeforeLeave:l,onAfterLeave:y,clearTimer:N,startTime:k,handelClose:b}=ie(o,"message");return a({offsetVal:t}),(c,d)=>(f(),x(Q,{mode:"out-in",appear:"",name:n(r).b(`fade-${n(v)?"top":"bottom"}`),onBeforeLeave:n(l),onAfterLeave:n(y)},{default:D(()=>[G(R("div",{class:T(n(u)),style:Z([n(s),n(m)]),onMouseleave:d[1]||(d[1]=(...p)=>n(k)&&n(k)(...p)),onMouseenter:d[2]||(d[2]=(...p)=>n(N)&&n(N)(...p))},[c.icon?(f(),C("div",{key:0,class:T(n(r).e("before_icon"))},[$(n(E),{icon:c.icon,size:16},null,8,["icon"])],2)):z("",!0),W(c.message)?(f(),x(X(c.message),{key:1})):(f(),C("div",{key:2,class:T(n(r).e("text"))},S(c.message),3)),c.closable?(f(),C("div",{key:3,class:T(n(r).e("close")),onClick:d[0]||(d[0]=(...p)=>n(b)&&n(b)(...p))},[n(F)(c.closeBtn)?(f(),C(q,{key:0},[J(S(c.closeBtn),1)],64)):(f(),x(n(E),{key:1,icon:n(se),size:15},null,8,["icon"]))],2)):z("",!0)],38),[[K,n(g)]])]),_:1},8,["name","onBeforeLeave","onAfterLeave"]))}}),{Message:me}=ce(ue,"message"),Ie=ne(me,"FzMessage");export{Ie as F,ie as a,le as r,ce as u};
